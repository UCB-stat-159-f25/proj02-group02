{"version":2,"kind":"Notebook","sha256":"51fbaa55e9cf62b1193a95fcdaf02e46db037d695bda1f146c9fb38fc940b5e6","slug":"nlp-p01","location":"/nlp-P01.ipynb","dependencies":[],"frontmatter":{"title":"Project 2: Reproducibility in Natural Language Processing","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"exports":[{"format":"ipynb","filename":"nlp-P01.ipynb","url":"/build/nlp-P01-c3a3479b362bd21a2757fdd2fd40b68f.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Part 1: Data Loading and Initial Exploration","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OgKfiEfVQZ"}],"identifier":"part-1-data-loading-and-initial-exploration","label":"Part 1: Data Loading and Initial Exploration","html_id":"part-1-data-loading-and-initial-exploration","implicit":true,"key":"Ewu73ITIgE"}],"key":"lF9adm2sWq"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Read Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aEn3WauAaU"}],"identifier":"read-data","label":"Read Data","html_id":"read-data","implicit":true,"key":"Whfg62O5NU"}],"key":"nOSGYfHgoH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# imports\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport os\n\nplt.style.use('seaborn-v0_8-dark') ","key":"SFdKDqAwOT"},{"type":"output","id":"lfHDX-US07p6JCygjSdI1","data":[],"key":"EshIEjTJZd"}],"key":"Q1SVb6tw3z"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"sou = pd.read_csv('data/SOTU.csv')\nsou","key":"PbZ7toEl84"},{"type":"output","id":"OmEYIJ4KfiigfrJC4dC18","data":[{"output_type":"execute_result","execution_count":2,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>President</th>\n      <th>Year</th>\n      <th>Text</th>\n      <th>Word Count</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Joseph R. Biden</td>\n      <td>2024.0</td>\n      <td>\\n[Before speaking, the President presented hi...</td>\n      <td>8003</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Joseph R. Biden</td>\n      <td>2023.0</td>\n      <td>\\nThe President. Mr. Speaker——\\n[At this point...</td>\n      <td>8978</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Joseph R. Biden</td>\n      <td>2022.0</td>\n      <td>\\nThe President. Thank you all very, very much...</td>\n      <td>7539</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Joseph R. Biden</td>\n      <td>2021.0</td>\n      <td>\\nThe President. Thank you. Thank you. Thank y...</td>\n      <td>7734</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Donald J. Trump</td>\n      <td>2020.0</td>\n      <td>\\nThe President. Thank you very much. Thank yo...</td>\n      <td>6169</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>241</th>\n      <td>George Washington</td>\n      <td>1791.0</td>\n      <td>\\nFellow-Citizens of the Senate and House of R...</td>\n      <td>2264</td>\n    </tr>\n    <tr>\n      <th>242</th>\n      <td>George Washington</td>\n      <td>1790.0</td>\n      <td>\\nFellow-Citizens of the Senate and House of R...</td>\n      <td>1069</td>\n    </tr>\n    <tr>\n      <th>243</th>\n      <td>George Washington</td>\n      <td>1790.0</td>\n      <td>\\nFellow-Citizens of the Senate and House of R...</td>\n      <td>1069</td>\n    </tr>\n    <tr>\n      <th>244</th>\n      <td>George Washington</td>\n      <td>1790.0</td>\n      <td>\\nFellow-Citizens of the Senate and House of R...</td>\n      <td>1069</td>\n    </tr>\n    <tr>\n      <th>245</th>\n      <td>George Washington</td>\n      <td>1790.0</td>\n      <td>\\nFellow-Citizens of the Senate and House of R...</td>\n      <td>1069</td>\n    </tr>\n  </tbody>\n</table>\n<p>246 rows × 4 columns</p>\n</div>","content_type":"text/html"},"text/plain":{"content":"             President    Year  \\\n0      Joseph R. Biden  2024.0   \n1      Joseph R. Biden  2023.0   \n2      Joseph R. Biden  2022.0   \n3      Joseph R. Biden  2021.0   \n4      Donald J. Trump  2020.0   \n..                 ...     ...   \n241  George Washington  1791.0   \n242  George Washington  1790.0   \n243  George Washington  1790.0   \n244  George Washington  1790.0   \n245  George Washington  1790.0   \n\n                                                  Text  Word Count  \n0    \\n[Before speaking, the President presented hi...        8003  \n1    \\nThe President. Mr. Speaker——\\n[At this point...        8978  \n2    \\nThe President. Thank you all very, very much...        7539  \n3    \\nThe President. Thank you. Thank you. Thank y...        7734  \n4    \\nThe President. Thank you very much. Thank yo...        6169  \n..                                                 ...         ...  \n241  \\nFellow-Citizens of the Senate and House of R...        2264  \n242  \\nFellow-Citizens of the Senate and House of R...        1069  \n243  \\nFellow-Citizens of the Senate and House of R...        1069  \n244  \\nFellow-Citizens of the Senate and House of R...        1069  \n245  \\nFellow-Citizens of the Senate and House of R...        1069  \n\n[246 rows x 4 columns]","content_type":"text/plain"}}}],"key":"eOlqoe1UJn"}],"key":"jyhpp8KhcU"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exploratory Data Analysis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CWmusDMXNy"}],"identifier":"exploratory-data-analysis","label":"Exploratory Data Analysis","html_id":"exploratory-data-analysis","implicit":true,"key":"FCzeysBtIb"}],"key":"YlUSh6cYg9"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Number of Speeches per President","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SxOGjRZMJQ"}],"identifier":"number-of-speeches-per-president","label":"Number of Speeches per President","html_id":"number-of-speeches-per-president","implicit":true,"key":"FbL0OEVbs3"}],"key":"Dl3ojk4kOS"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"order = sou.groupby('President')['Year'].max().sort_values(ascending=False).index\ncounts = sou['President'].value_counts().reindex(order)\nplt.figure(figsize=(15,5))\ncounts.plot(kind='bar')\nplt.title('Number of Speeches per President')\nplt.xlabel('President')\nplt.ylabel('Count')\nplt.xticks(rotation=90)\n\nplt.savefig(\"outputs/num_speeches_per_president.png\", bbox_inches=\"tight\")\nplt.show()","key":"K64Nl0l43R"},{"type":"output","id":"OFU6jdyrNDzm7GTxMsEim","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"077855d7bf1df78cbf45cac8ab05f952","path":"/build/077855d7bf1df78cbf45cac8ab05f952.png"},"text/plain":{"content":"<Figure size 1500x500 with 1 Axes>","content_type":"text/plain"}}}],"key":"aXX3ErisMr"}],"key":"LKvJalIVb1"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Commentary)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dnCfrgI0Dl"}],"key":"eeEOyse7ak"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Modern presidents usually give one speech every year, so recent presidents all have similar counts.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QfydMPuST5"}],"key":"Ytoj54VMIj"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Older presidents, especially before the Civil War, often gave fewer speeches because the State of the Union was not yet a regular tradition.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"fohUx1m1TD"}],"key":"J9LpqLQYFp"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"A few presidents like FDR, have very high counts because they served much longer than a normal two-term presidency.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"RVKxL8YhVp"}],"key":"lAJGPZbf7E"}],"key":"ATWwNRk4zo"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Number of Speeches per Year","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"V5Avq0tYq7"}],"identifier":"number-of-speeches-per-year","label":"Number of Speeches per Year","html_id":"number-of-speeches-per-year","implicit":true,"key":"fLAcLfbTv6"}],"key":"gdZVOg0and"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"sou['Year'].value_counts().sort_index().plot()\nplt.title('Number of State of the Union Speeches per Year')\nplt.xlabel('Year')\nplt.ylabel('Count')\n\nplt.savefig(\"outputs/num_speeches_per_year.png\", bbox_inches=\"tight\")\nplt.show()","key":"sp9uBb0WSI"},{"type":"output","id":"5pa5yKDHMPRD-n2DWdJ7U","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"79b0ef3b2ea3bad47b09e6d8c2c022c5","path":"/build/79b0ef3b2ea3bad47b09e6d8c2c022c5.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"q5YuEtekdu"}],"key":"BHuOtVqxKd"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"commentary)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"G5iHrqnY9g"}],"key":"IpMw7xOlAh"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In the very early years of the country there are some blips of years that had more than one State of the Union message, which explains the higher counts around the late 1700s.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"D02wStyutu"}],"key":"NjSdn3BBdk"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"For most of U.S. history, each year only had one speech, which is why the line stays flat at 1 across almost the entire timeline.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"wxlhbyMTps"}],"key":"GoVT7FenBY"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"The small bumps around the 1950s–1970s come from presidents occasionally delivering extra messages or special addresses in those years.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"YvGQJtLgSk"}],"key":"YeB1pqchKL"}],"key":"ymFl1FBUnI"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Word Count Distribution","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZDsldcGxJN"}],"identifier":"word-count-distribution","label":"Word Count Distribution","html_id":"word-count-distribution","implicit":true,"key":"CKrAOIOQHM"}],"key":"H2LOy7G3ui"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"sns.histplot(sou['Word Count'])\nplt.title('Distribution of State of the Union Speech Word Counts')\nplt.xlabel('Word Count')\nplt.ylabel('Count')\n\nplt.savefig(\"outputs/word_count_distribution.png\", bbox_inches=\"tight\")\nplt.show()\n","key":"nSUQjmVQLo"},{"type":"output","id":"w663tUMKE7CGXThGYcsJe","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"ad6bf96136e8ec8a257ba88290631e04","path":"/build/ad6bf96136e8ec8a257ba88290631e04.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"yMSZSefD2q"}],"key":"yksYU9Gyz4"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Commentary)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"U0D1tEiDfV"}],"key":"ZzC6L9nktN"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Most speeches are around the range of 3,000 and 10,000 words. This is probably the “normal” length considered for a State of the Union.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xHuuxO3yxD"}],"key":"L2u9wpa75F"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"There are a couple speeches that are much longer reaching over 20,000 or even 30,000 words, which stand out as rare outliers.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"XZrugiXZGZ"}],"key":"jYnaOz1GvU"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"The distribution is skewed to the right, meaning long speeches are uncommon but do happen occasionally. Most speeches are shorter.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"y0A8yQW1uX"}],"key":"T5GIumvzM1"}],"key":"HnZM1Y2YHs"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Word Count Distribution over Year","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SWkEXxjbW8"}],"identifier":"word-count-distribution-over-year","label":"Word Count Distribution over Year","html_id":"word-count-distribution-over-year","implicit":true,"key":"Jl7UgPqvwD"}],"key":"qw5ea1XtwY"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"sns.scatterplot(x='Word Count', y='Year', data=sou)\nsns.rugplot(x='Word Count', data=sou)\nsns.rugplot(y='Year', data=sou, color = sns.color_palette()[0])\nplt.title('Speech Year Versus Word Count')\nplt.xlabel('Word Count')\nplt.ylabel('Year')\n\nplt.savefig(\"outputs/wordcount_vs_year.png\", bbox_inches=\"tight\")\nplt.show()","key":"gxDIo5yiol"},{"type":"output","id":"gqXMWEOtktZMS_cpa4OGV","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"1ea0f391d06dfe296b8c4877e2b2ddd2","path":"/build/1ea0f391d06dfe296b8c4877e2b2ddd2.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}}],"key":"QYKFrhZCwq"}],"key":"BJqmTkeA3c"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Commentary)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZssPJtEHom"}],"key":"GMdYQL8Dwu"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Early presidents from the late 1700s–1800s when the country was first founded often gave longer written messages, which explains the big cluster of high word counts in the older years.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fH3Mf5Rg6n"}],"key":"mmmdalfDxZ"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"In the mid-1900s and onward, speeches become shorter and more consistent, staying mostly below 10,000 words.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"mx16xKjhMg"}],"key":"brXUmV3J7R"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Recent speeches from like the 2000s–2020s cluster tightly around similar lengths, showing that modern presidents follow a more standard format.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"LlAR7H7APv"}],"key":"a81urUulw2"}],"key":"IfLyPifaFY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Word Count Distribution per President","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VMOHOEqwvn"}],"identifier":"word-count-distribution-per-president","label":"Word Count Distribution per President","html_id":"word-count-distribution-per-president","implicit":true,"key":"PIvv2Hcxol"}],"key":"h8eDm9erkp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"order = sou.groupby('President')['Year'].max().sort_values(ascending=False).index\navg_counts = sou.groupby('President')['Word Count'].mean().reindex(order)\n\nplt.figure(figsize=(15,5))\navg_counts.plot(kind='bar')\nplt.title('Average State of the Union Word Count per President')\nplt.xlabel('President')\nplt.ylabel('Average Word Count')\nplt.xticks(rotation=90)\nplt.tight_layout()\n\nplt.savefig(\"outputs/avg_wordcount_per_president.png\", bbox_inches=\"tight\")\nplt.show()","key":"RQLrjzdoOy"},{"type":"output","id":"DHcw2jpOa7Yq0_bUm5-f8","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"0fe4fbfe5eff50102b01216e449d004b","path":"/build/0fe4fbfe5eff50102b01216e449d004b.png"},"text/plain":{"content":"<Figure size 1500x500 with 1 Axes>","content_type":"text/plain"}}}],"key":"qm4E0B9Jou"}],"key":"dhsHXtIFQC"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Commentary)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yjFbfhY77W"}],"key":"YXqzwImzpv"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Some presidents have unusually short average speeches (like early presidents who sometimes submitted very brief written messages), which makes them clear low outliers on the chart.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ysn9DNM0jx"}],"key":"PiCCeY1Ag4"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"There’s a big jump in average length for a few specific presidents suggesting that probably some aspect of personal speaking/writing style plays a role, not just the era.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Og60eGInnV"}],"key":"atRJUf4lJ1"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The bar heights move up and down a lot from president to president, showing that speech length isn’t really tied to political party or time period in a strict pattern.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"t8fU8O1eVu"}],"key":"U7OjRA02MQ"}],"key":"UvqQHG8rQZ"}],"key":"n2U90IPIKb"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Project 2: Reproducibility in Natural Langauge Processing","url":"/project-description","group":"STAT 159/259 Project 2"},"next":{"title":"Project 2: Reproducibility in Natural Language Processing","url":"/nlp-p02","group":"STAT 159/259 Project 2"}}},"domain":"http://localhost:3000"}